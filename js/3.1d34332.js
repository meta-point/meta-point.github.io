(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{960:function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"default",(function(){return w}));n(441),n(191),n(192);var a=n(49),i=n.n(a),s=n(40),p=n.n(s),u=n(1),r=n(0),d=n(953),y=n(78),l=(n(443),n(258)),o=n(57),m=n(154),c=n(966),T=n(965),b=n.n(T),h=(n(986),n(987)),f=n.n(h),M=n(988),O=n.n(M),j=n(442),x=n.n(j),v=n(989);n(991);class w extends r.Component{constructor(t){super(t),this.componentDidMount=async()=>{await this.init()},this.init=async()=>{window.ethereum&&await o.b.eth.getAccounts((e,t)=>{this.setState({address:t[0]})});let e=await o.a.MetaDeed.methods.balanceOf(this.state.address).call(),t=[];if(e>0)for(let n=0;n<e;n++){let e=await o.a.MetaDeed.methods.tokenOfOwnerByIndex(this.state.address,n).call();t.unshift({sign:"deed",id:e}),this.setState({lists:[...t]})}let n=await o.a.MetaLand.methods.balanceOf(this.state.address).call();if(n>0)for(let e=0;e<n;e++){let n=await o.a.MetaLand.methods.tokenOfOwnerByIndex(this.state.address,e).call(),a=Object(c.c)(n),i=await Object(c.b)(a);t.unshift({sign:"land",id:n,landAddress:a,capacity:i.fromWei().toFixed(2)}),this.setState({lists:[...t]})}},this.exchange=e=>{this.setState(t=>{let{loadings:n}=t;const a=[...n];return a[e]=!0,{loadings:a}}),setTimeout(()=>{this.setState(t=>{let{loadings:n}=t;const a=[...n];return a[e]=!0,{loadings:a}})},1e3),this.approve(e)},this.approve=async t=>{let n=await o.a.MetaDeed.methods.isApprovedForAll(e.$address,o.a.MinistryLandResources._address).call();console.log(n),n?this.deedDelivery(t):o.a.MetaDeed.methods.setApprovalForAll(o.a.MinistryLandResources._address,!0).send({from:e.$address}).on("receipt",()=>{Object(m.a)(e.t("tips.message10"),"success"),this.deedDelivery(t)}).on("error",n=>{console.log(n),Object(m.a)(e.t("tips.message11"),"error"),this.setState(e=>{let{loadings:n}=e;const a=[...n];return a[t]=!1,{loadings:a}})})},this.deedDelivery=t=>{o.a.MinistryLandResources.methods.deedDelivery(t).send({from:e.$address}).on("receipt",()=>{Object(m.a)(e.t("buy.tips2"),"success"),this.init()}).on("error",n=>{console.log(n),Object(m.a)(e.t("CANCEL"),"error"),this.setState(e=>{let{loadings:n}=e;const a=[...n];return a[t]=!1,{loadings:a}})})},this.submit=e=>{this.transferModal.showModal(e)},this.copy=()=>{p.a.destroy(),p.a.success({content:e.t("tips.copyS"),className:"custom-class",style:{marginTop:"20vh"}})},this.state={address:null,lists:[],loadings:[]},t.onRef&&t.onRef(this)}render(){const t=this.state;return Object(u.jsxs)("div",{className:"myNft",children:[Object(u.jsx)(v.a,{onRef:e=>{this.transferModal=e},init:this.init}),e.isPC?Object(u.jsx)("img",{src:b.a}):"",Object(u.jsxs)("div",{className:"nfts",children:[Object(u.jsx)("div",{className:"title",children:e.t("myNft.title")}),Object(u.jsx)("div",{className:"line"}),Object(u.jsxs)("div",{className:"content",children:[e.t("myNft.text3"),":",t.lists.length]}),Object(u.jsx)("div",{className:"lists",children:Object(u.jsx)(d.a,{slidesPerView:e.isPC?3:1.1,spaceBetween:20,centeredSlides:1==t.lists.length,children:Object(u.jsx)("div",{className:"swiper-wrapper",children:t.lists.map((n,a)=>Object(u.jsx)(y.a,{children:Object(u.jsxs)("div",{className:"swiper-item",children:[Object(u.jsxs)("div",{className:"title",children:["deed"==n.sign?e.t("myNft.name"):e.t("myNft.name1"),Object(u.jsxs)("span",{children:["ID:",n.id]})]}),Object(u.jsx)("div",{className:"border",children:"deed"==n.sign?Object(u.jsx)("img",{src:f.a}):Object(u.jsx)("img",{src:O.a})}),"deed"==n.sign?Object(u.jsxs)("div",{className:"btns",children:[Object(u.jsx)(i.a,{loading:t.loadings[n.id],onClick:this.exchange.bind(this,n.id),children:e.t("myNft.text5")}),Object(u.jsx)(i.a,{onClick:this.submit.bind(this,n.id),children:e.t("myNft.text6")})]}):Object(u.jsxs)("div",{className:"des",children:[Object(u.jsxs)("div",{children:[e.t("myNft.text4"),":",n.landAddress.slice(0,4)+"..."+n.landAddress.slice(-5),Object(u.jsx)(l.CopyToClipboard,{text:n.landAddress,onCopy:this.copy,children:Object(u.jsx)("img",{className:"copy",src:x.a})})]}),Object(u.jsxs)("div",{children:[Object(u.jsxs)("span",{children:[e.t("myNft.text1"),":"]}),n.capacity]})]})]})},a))})})})]})]})}}}.call(this,n(24))},965:function(e,t){e.exports="assets/images/d981b521dc22fbd0edb28928b0489374.png"},966:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d}));n(191);var a=n(57),i=n(967);function s(e){let t=a.b.utils.numberToHex(e);return a.b.utils.padLeft(t,40)}let p=["","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ"];async function u(e){let t=await a.a.Achievement.methods.levelOf(e).call();return p[t]}async function r(e,t,n){let s=await a.a.MetaPoint.methods.router().call();const p=new a.b.eth.Contract(i,s),u=[e,t],r=await p.methods.getAmountsIn(n.toWei(),u).call();return console.log(r),r[0].fromWei()}async function d(e){let t="";if(await a.a.MetaFarm.methods.landIsActived(e).call()){t=(await a.a.MetaFarm.methods.LandFarmInfo(e).call()).supply}else t=await a.a.MetaCapacity.methods.balanceOf(e).call();return t}},967:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_factory","type":"address"},{"internalType":"address","name":"_WHT","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[],"name":"WHT","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint256","name":"amountADesired","type":"uint256"},{"internalType":"uint256","name":"amountBDesired","type":"uint256"},{"internalType":"uint256","name":"amountAMin","type":"uint256"},{"internalType":"uint256","name":"amountBMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"addLiquidity","outputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"amountB","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"amountTokenDesired","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"addLiquidityETH","outputs":[{"internalType":"uint256","name":"amountToken","type":"uint256"},{"internalType":"uint256","name":"amountETH","type":"uint256"},{"internalType":"uint256","name":"liquidity","type":"uint256"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"factory","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"reserveIn","type":"uint256"},{"internalType":"uint256","name":"reserveOut","type":"uint256"}],"name":"getAmountIn","outputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"reserveIn","type":"uint256"},{"internalType":"uint256","name":"reserveOut","type":"uint256"}],"name":"getAmountOut","outputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"getAmountsIn","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"}],"name":"getAmountsOut","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"}],"name":"pairFor","outputs":[{"internalType":"address","name":"pair","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"reserveA","type":"uint256"},{"internalType":"uint256","name":"reserveB","type":"uint256"}],"name":"quote","outputs":[{"internalType":"uint256","name":"amountB","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountAMin","type":"uint256"},{"internalType":"uint256","name":"amountBMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"removeLiquidity","outputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"amountB","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"removeLiquidityETH","outputs":[{"internalType":"uint256","name":"amountToken","type":"uint256"},{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"removeLiquidityETHSupportingFeeOnTransferTokens","outputs":[{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bool","name":"approveMax","type":"bool"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"removeLiquidityETHWithPermit","outputs":[{"internalType":"uint256","name":"amountToken","type":"uint256"},{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountTokenMin","type":"uint256"},{"internalType":"uint256","name":"amountETHMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bool","name":"approveMax","type":"bool"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"removeLiquidityETHWithPermitSupportingFeeOnTransferTokens","outputs":[{"internalType":"uint256","name":"amountETH","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint256","name":"liquidity","type":"uint256"},{"internalType":"uint256","name":"amountAMin","type":"uint256"},{"internalType":"uint256","name":"amountBMin","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"},{"internalType":"bool","name":"approveMax","type":"bool"},{"internalType":"uint8","name":"v","type":"uint8"},{"internalType":"bytes32","name":"r","type":"bytes32"},{"internalType":"bytes32","name":"s","type":"bytes32"}],"name":"removeLiquidityWithPermit","outputs":[{"internalType":"uint256","name":"amountA","type":"uint256"},{"internalType":"uint256","name":"amountB","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_swapMininng","type":"address"}],"name":"setSwapMining","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapETHForExactTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactETHForTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactETHForTokensSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForETH","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForETHSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint256","name":"amountOutMin","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapExactTokensForTokensSupportingFeeOnTransferTokens","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"swapMining","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMax","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapTokensForExactETH","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"amountOut","type":"uint256"},{"internalType":"uint256","name":"amountInMax","type":"uint256"},{"internalType":"address[]","name":"path","type":"address[]"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"name":"swapTokensForExactTokens","outputs":[{"internalType":"uint256[]","name":"amounts","type":"uint256[]"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]')},986:function(e,t){e.exports="assets/images/f85a8012b725025272675af085f6a962.png"},987:function(e,t){e.exports="assets/images/0e7edd3f577181f7b1e1687d25593f70.png"},988:function(e,t){e.exports="assets/images/f00fd44fad97023c83000f88b44af123.png"},989:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));n(191);var a=n(954),i=n.n(a),s=n(49),p=n.n(s),u=n(955),r=n.n(u),d=n(1),y=n(0),l=n(57),o=n(154);n(990);class m extends y.Component{constructor(t){super(t),this.componentDidMount=async()=>{await this.init()},this.init=async()=>{},this.showModal=e=>{this.setState({visible:!0,tokenId:e})},this.submit=async()=>{if(""==this.state.toAddress)return Object(o.a)(e.t("tips.message17"),"error");let t=l.b.utils.isAddress(this.state.toAddress);if(console.log(t),!t)return Object(o.a)(e.t("tips.message17"),"error");this.setState({loading:!0}),l.a.MetaDeed.methods.transferFrom(e.$address,this.state.toAddress,this.state.tokenId).send({from:e.$address}).on("receipt",t=>{Object(o.a)(e.t("myNft.tips1"),"success"),this.cancel(),this.props.init()}).on("error",t=>{Object(o.a)(e.t("CANCEL"),"error"),this.setState({loading:!1})})},this.Inputs=e=>{this.setState({toAddress:e.target.value})},this.cancel=()=>{this.setState({loading:!1,visible:!1})},this.state={address:null,tokenId:"",toAddress:null,visible:!1,loading:!1},t.onRef&&t.onRef(this)}render(){const t=this.state;return Object(d.jsx)("div",{children:Object(d.jsxs)(i.a,{className:"pc_Bind-Modal",visible:t.visible,footer:null,closable:!0,onCancel:this.cancel,children:[Object(d.jsx)("div",{className:"pc_Bind-Modal-title",children:Object(d.jsx)("span",{children:e.t("myNft.text6")})}),Object(d.jsxs)("div",{className:"pc_Bind-Modal-content",children:[Object(d.jsx)("span",{className:"pc_content-titel",children:e.t("myNft.text7")}),Object(d.jsx)("div",{className:"border",children:Object(d.jsx)(r.a,{onInput:this.Inputs,value:t.toAddress,type:"text"})}),Object(d.jsx)("div",{className:"bind-btn",children:Object(d.jsx)(p.a,{loading:t.loading,type:"primary",onClick:this.submit,children:e.t("bind.text4")})})]})]})})}}}).call(this,n(24))},990:function(e,t,n){},991:function(e,t,n){}}]);