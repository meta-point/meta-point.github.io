(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{938:function(s,e,t){"use strict";t.r(e),function(s){t.d(e,"default",(function(){return h}));t(189);var i=t(251),n=t.n(i),a=t(61),c=t.n(a),r=t(77),o=t.n(r),d=t(1),l=t(55),j=t(152),b=t(0);t(962);class h extends b.Component{constructor(e){super(e),this.submit=async()=>{let e=await l.a.USDTToken.methods.balanceOf(s.$address).call();if(Number(e.fromWei())<1e3)return Object(j.a)("USDT"+s.t("tips.message8"),"error");this.setState({loading:!0}),this.approve()},this.mint=()=>{l.a.MinistryLandResources.methods.mintLand(l.b.utils.toWei("1000"),l.a.USDTToken._address).send({from:s.$address}).on("receipt",e=>{console.log(e),Object(j.a)(s.t("nftMint.tips1"),"success"),this.setState({loading:!1})}).on("error",e=>{console.log(e),Object(j.a)(s.t("CANCEL"),"error"),this.setState({loading:!1})})},this.approve=async()=>{l.a.USDTToken.methods.approve(l.a.MinistryLandResources._address,l.b.utils.toWei("1000")).send({from:s.$address}).on("receipt",()=>{Object(j.a)(s.t("tips.message10"),"success"),this.mint()}).on("error",e=>{console.log(e),Object(j.a)(s.t("tips.message11"),"error"),this.setState({loading:!1})})},this.state={loading:!1,address:""},e.onRef&&e.onRef(this)}async componentDidMount(){}render(){const e=this.state;return Object(d.jsxs)("div",{className:"nftMint",children:[s.isPC?Object(d.jsx)("img",{src:t(944)}):"",Object(d.jsxs)("div",{className:"box",children:[Object(d.jsx)("div",{className:"title",children:s.t("nftMint.title")}),Object(d.jsx)("div",{className:"line"}),Object(d.jsxs)(n.a,{children:[Object(d.jsx)(o.a,{span:s.isPC?12:24,children:Object(d.jsx)("div",{className:"border",children:Object(d.jsx)("img",{src:t(442)})})}),Object(d.jsx)(o.a,{span:s.isPC?12:24,children:Object(d.jsxs)("div",{className:"right",children:[Object(d.jsx)("div",{className:"title",children:"庄园土地"}),Object(d.jsx)("div",{className:"content",children:"说明文字说明文字说明文字说明文字说明文字 说明文字说明文字说明文字。"}),Object(d.jsxs)("div",{className:"price",children:["1000 ",Object(d.jsx)("span",{children:"USDT/份"})]}),Object(d.jsx)(c.a,{loading:e.loading,onClick:this.submit,children:s.t("nftMint.text2")})]})})]})]})]})}}}.call(this,t(23))},944:function(s,e){s.exports="assets/images/d981b521dc22fbd0edb28928b0489374.png"},962:function(s,e,t){}}]);